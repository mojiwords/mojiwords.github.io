<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ND-Radar Self Check</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 1rem;
        background: #f9f9ff;
        color: #333;
      }
      h1 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
      }
      label {
        font-weight: bold;
        display: block;
        margin-top: 1rem;
      }
      input[type="number"] {
        width: 60px;
        padding: 0.3rem;
        margin: 0.2rem 0;
      }
      textarea {
        width: 100%;
        min-height: 100px;
        margin-top: 1rem;
      }
      canvas {
        max-width: 100%;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <h1>ND-Radar Self Check</h1>

    <label>äº‹ä»¶ï¼æ—¥æœŸ</label>
    <input id="eventLabel" placeholder="ä¾‹å¦‚ï¼š2025/04/11 å·¥ä½œé¢è©¦" />

    <div id="inputFields"></div>

    <label>å‚™è¨»æ¬„</label>
    <textarea id="notes" placeholder="ç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿæœ‰ä»€éº¼æ„Ÿå—ï¼Ÿ"></textarea>

    <canvas id="radarChart"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const traits = [
        ["ğŸªµ æ„Ÿå®˜é²éˆ", "ğŸ”Š æ„Ÿå®˜æ•æ„Ÿ"],
        ["ğŸŒ æ€ç·’é²æ»¯", "âš¡ æ€ç·’è·³èº"],
        ["ğŸ§Š æƒ…ç·’å£“æŠ‘", "ğŸ’¥ æƒ…ç·’æ”¾å¤§"],
        ["ğŸ¢ è¡Œå‹•é²ç·©", "ğŸƒâ€â™‚ï¸ è¡Œå‹•è¡å‹•"],
        ["ğŸš ç¤¾äº¤é€€ç¸®", "ğŸ­ ç¤¾äº¤éåº¦"],
        ["ğŸŒ«ï¸ æ³¨æ„æ¸™æ•£", "ğŸ¯ æ³¨æ„éåº¦"],
      ];

      const labels = traits.flat();

      const inputFields = document.getElementById("inputFields");
      const scores = [];

      labels.forEach((label, index) => {
        const wrapper = document.createElement("div");
        const input = document.createElement("input");
        input.type = "number";
        input.min = 0;
        input.max = 5;
        input.value = 3;
        input.id = `input${index}`;
        input.addEventListener("input", renderChart);
        scores.push(input);
        wrapper.innerHTML = `<label>${label}</label>`;
        wrapper.appendChild(input);
        inputFields.appendChild(wrapper);
      });

      const ctx = document.getElementById("radarChart").getContext("2d");
      let chart;

      function renderChart() {
        const data = scores.map((input) => Number(input.value));
        const label = document.getElementById("eventLabel").value || "ç•¶å‰ç‹€æ…‹";

        if (chart) chart.destroy();
        chart = new Chart(ctx, {
          type: "radar",
          data: {
            labels: labels,
            datasets: [
              {
                label: label,
                data: data,
                backgroundColor: "rgba(136, 132, 216, 0.4)",
                borderColor: "#8884d8",
                borderWidth: 2,
              },
            ],
          },
          options: {
            scale: {
              ticks: {
                beginAtZero: true,
                max: 5,
                stepSize: 1,
              },
            },
            responsive: true,
            plugins: {
              legend: { display: false },
            },
          },
        });
      }

      renderChart(); // åˆå§‹åŒ–
    </script>
  </body>
</html>
